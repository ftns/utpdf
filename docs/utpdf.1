.TH UTPDF,UTPS "1" "February 2021" "utpdf/utps ver.0.82" "User Commands"
.SH NAME
utpdf, utps \- margin\-aware converter from utf\-8 text to PDF/PostScript
.SH SYNOPSIS
.B utpdf
[\fI\,options\/\fR] \fI\,<utf8_textfile> \/\fR...
.SH DESCRIPTION
.B utpdf/utps
converts utf-8 text files or standard input to PDF/Postscript.
By default, the PDF output is stored in files with \f[CR]".pdf"\fR suffix,
PostScript output is sent to standard output.
.P
.B utpdf/utps
set suitable margins with simplex/duplex, portrait/landscape,
long edge binded/short edge binded printing.
So printed papers are filed correctly in binder.
.P
.B utpdf/utps
shows timestamp on the header. By default, it is
a modification time of files. If you specified by
\fB --timestamp\fR=cur option, or input is standard input, the timestamp is current time.
.\"
.SH OPTIONS
.IP
.SS basic settings:
.HP
\fB\-b\fR, \fB\-\-border\fR[=on/off]	draw border (default: off)
.TP
\fB\-m\fR, \fB\-\-punch\fR[=on/off]	show punch mark (default: on)
.HP
\fB\-n\fR, \fB\-\-number\fR[=on/off]	show line number (default: off)
.TP
\fB\-t\fR <#>, \fB\-\-tab=\fR<#>	tab width (default: 8)
.TP
\fB\-\-timestamp\fR=mod/cur	timestamp: file modified time/current time
		\fR(file default: modified time/stdin: current time only)
.TP
\fB\-\-notebook\fR[=on/off]	show baselines like notebook (default: off)
.HP
\fB\-\-fold\-arrow\fR[=on/off]	show the arrows indicate folded line
			(default: on)
.IP
.SS sheet:
.TP
\fB\-P\fR, \fB\-\-paper\fR=\fI\,\/\fRa3/a4/a5/b4/b5/b6/letter/legal
		sheet size (default: a4)
.TP
\fB\-d\fR, \fB\-\-duplex\fR[=on]	duplex printing(default)
.TP
\fB\-s\fR, \fB\-\-duplex\fR=off 	simplex printing
.TP
\fB\-\-force\-duplex\fR		force printer to do duplex if it couldn't do it.
.HP
\fB\-l\fR, \fB\-\-orientation\fR=landscape	sheet orientation is landscape
.HP
\fB\-p\fR, \fB\-\-orientation\fR=portrait	sheet orientation is portrait(default)
.TP
\fB\-1\fR, \fB\-\-col\fR=1		one column per sheet (portrait default)
.TP
\fB\-2\fR, \fB\-\-col\fR=2		two colimns per sheet (landscape default)
.TP
\fB\-\-binded-edge\fR=l/s/n		bind long edge/short edge/none
	(portrait default: long edge/landscape default: short edge)
.IP
.SS misc:
.TP
\fB\-o\fR <output_file>		specify output file
.TP
\fB\-f\fR <config_file>		load optional config file
.TP
\fB\-c\fR <case_name>		load configuration for specific case.
.br
		\fButpdf:\fR	load \f[CR]$HOME/.utpdfrc\-<case_name>\fR
.br
		\fButps:\fR	load \f[CR]$HOME/.utpsrc\-<case_name>\fR
.TP
\fB\-h\fR, \fB\-\-help\fR		show help message
.TP
\fB\-V\fR, \fB\-\-version\fR		show version
.TP
\fB\-\-inch\fR, \fB\-\-unit\fR=inch	length unit is inch
.TP
\fB\-\-mm\fR,   \fB\-\-unit\fR=mm	length unit is mm (defalt)
.IP
.SS body:
.TP
\fB\-F\fR <fontname>, \fB\-\-body\-font\fR=<fontname>
	body font (default: IPAGothic)
.TP
\fB\-S\fR <fontsize>, \fB\-\-body\-size\fR=<fontsize>
	font size in pt. (default: oneside 9.8pt./twoside 6.6pt.)
.TP
\fB\-\-body\-weight\fR=light/normal/bold/100\-1000
	body font weight (default: normal)
.br
	light: 300, normal: 400, bold: 700	
.TP
\fB\-\-body\-slant\fR=normal/italic/oblique
	body font slant (default: normal)
.TP
\fB\-\-body\-spacing=\fR<point>		space between lines (default: 1.00pt)
.IP
.SS header:
.TP
\fB\-\-header\fR[=on/off]		header on/off (default: on)
.TP
\fB\-\-header\-text\fR[=<text>]		center text of header (default: filename)
.HP
\fB\-\-header\-font\fR=<fontname>	font of center text (default: sans\-serif)
.TP
\fB\-\-header\-size\fR=<fontsize>	font size of center text
	(default: one column 16.0pt./two columns 9.0pt.)
.TP
\fB\-\-header\-weight\fR=light/normal/bold/100\-1000
	font weight of cenrer text (default: bold)
.TP
\fB\-\-header\-slant\fR=normal/italic/oblique
	header font slant (default: normal)
.TP
\fB\-\-header\-side\-size\fR=<fontsize>
	font size of side part(date & page)
.br		
	(default: 10.56/5.94 = header\-size * 0.66)
.TP
\fB\-\-header\-side\-slant\fR=normal/italic/oblique
	side font slant (default: same as center)
.TP
\fB\-\-header\-side\-weight\fR=light/normal/bold/100\-1000
	side font weight (default: same as center)
.TP
\fB\-\-date\-format\fR[=<format>]
	date header's format. it's format is \f[CR]strftime(3)\fR's one.
.br
	(default: %D %R)
.IP
.SS watermark:
.TP
\fB\-\-watermark\-text\fR=<text>	text of watermark
.TP
\fB\-\-watermark\-font\fR=<fontname>	watermark font name (default: sans\-serif)
.TP
\fB\-\-watermark\-slant\fR=normal/italic/oblique
		watermark font slant (defaullt: normal)
.TP
\fB\-\-watermark\-weight\fR=light/normal/bold/100\-1000
		watermark font weight (default: bold)
.TP
\fB\-\-watermark\-color\fR=<red digit>,<green digit>,<blue digit>
		watermark color (default: 230,230,255)
.br
		each digit must be 0\-255.
.IP
.SS margins:
.TP
\fB\-\-binding\fR=<length>
binding margin (default: 25.4mm/1.0inch)
.TP
\fB\-\-outer\fR=<length>
outer margin   (default: 12.7mm/0.5inch)
.TP
\fB\-\-top\fR=<length>
top margin     (default: 12.7mm/0.5inch)
.TP
\fB\-\-bottom\fR=<length>
bottom margin  (default: 12.7mm/0.5inch)
.TP
\fB\-\-divide\fR=<length>
distance between two sides (default: 6.3mm/0.2inch)
.PP
.\"
.SH EXAMPLES
Most simple example:
.br
\f[CR]$ utpdf foo.c \fR
.br
makes one pdf file, \f[CR]foo.c.pdf\fR.
.br
Another example:
.br
\f[CR]$ utpdf foo.c bar.c \fR
.br
makes two pdf files, \f[CR]foo.c.pdf, bar.c.pdf\fR.
.br
however:
.br
\f[CR]$ utpdf foo.c bar.c -o baz.pdf\fR
.br
makes only one pdf file, \f[CR]baz.pdf\fR,
which contains \f[CR]foo.c\fR and \f[CR]bar.c\fR.
.P
If you want print file:
.br
\f[CR]$ utps foo.c | lpr\fR
.br
so \f[CR]foo.c\fR will be printed by default printer.
.br
If the printer has duplex printing capability, \f[CR]foo.c\fR
is printed by two-sided per paper. If you dare to want to print by one-sided
per paper:
.br
\f[CR]$ utps -s foo.c | lpr\fR
.br
You can print multiple files at once by:
.br
\f[CR]$ utps foo.c bar.c | lpr\fR
.\"
.SH CONFIGURATAION
.B utpdf
reads \f[CR]$HOME/.utpdfrc\fR as configuration first.
.B utps
reads \f[CR]$HOME/.utpsrc\fR in the same way.
These configuration files are text file, and their each line format is
\f[CR]<key>: <value>\fR.
.br
\f[CR]<key>\fR is same as two-dashed command line option's name, and
\f[CR]<value>\fR is a value of the option.
Therefore, a command line option:
.B \-\-<key>=<value>
is equivalent to a configuration: \f[CR]<key>: <value>\fR.
.br
If the first character of one line is \f[CR]#\fR, it is a comment line.
.br
Settings in the configuration file can be overrided by command line option.
.br
For example, if you want disable header, set
.B \-\-header=off
on command line, or you should write \f[CR]header: off\fR in configuration file.
.SS Example
\f[CR]# sample configuration
.br
number: on
.br
orientation: l
.br
body-font: IPAMincho
.br
body-size: 12
.br
#
\fR
.br
means: show line number, sheet orientation is landscape,
text body font is IPAMincho and it's size is 12point.
.\"
.SH BUGS
.SS utpdf and utps:
.br
Only alphabet name fonts
(in regular expression, its name is \f[CR][A-Za-z0-9\\ \\\-]+\fR) 
can be used due to Pango limitation.
.P
.SS utps:
.br
Some printers could not always print by duplex,
even if it has duplex printing ability. In this case, please try
\fB\-\-force\-duplex\fR option.
.P
Some printers could not fit page correctly. it prints little bit offset images.
.P
.SH COPYRIGHT
Copyright \(co 2021 by Akihiro SHIMIZU
.PP
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
.PP
http://www.apache.org/licenses/LICENSE\-2.0
.PP
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
